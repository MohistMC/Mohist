--- a/net/minecraft/world/entity/monster/AbstractSkeleton.java
+++ b/net/minecraft/world/entity/monster/AbstractSkeleton.java
@@ -10,11 +_,15 @@
 import net.minecraft.util.RandomSource;
 import net.minecraft.world.Difficulty;
 import net.minecraft.world.DifficultyInstance;
+import net.minecraft.world.entity.Entity;
+import net.minecraft.world.entity.EntityDimensions;
 import net.minecraft.world.entity.EntityType;
 import net.minecraft.world.entity.EquipmentSlot;
 import net.minecraft.world.entity.LivingEntity;
 import net.minecraft.world.entity.MobSpawnType;
+import net.minecraft.world.entity.MobType;
 import net.minecraft.world.entity.PathfinderMob;
+import net.minecraft.world.entity.Pose;
 import net.minecraft.world.entity.SpawnGroupData;
 import net.minecraft.world.entity.ai.attributes.AttributeSupplier;
 import net.minecraft.world.entity.ai.attributes.Attributes;
@@ -43,178 +_,184 @@
 import net.minecraft.world.level.block.state.BlockState;
 
 public abstract class AbstractSkeleton extends Monster implements RangedAttackMob {
-    private static final int HARD_ATTACK_INTERVAL = 20;
-    private static final int NORMAL_ATTACK_INTERVAL = 40;
-    private final RangedBowAttackGoal<AbstractSkeleton> bowGoal = new RangedBowAttackGoal<>(this, 1.0, 20, 15.0F);
-    private final MeleeAttackGoal meleeGoal = new MeleeAttackGoal(this, 1.2, false) {
-        @Override
-        public void stop() {
-            super.stop();
-            AbstractSkeleton.this.setAggressive(false);
-        }
-
-        @Override
-        public void start() {
-            super.start();
-            AbstractSkeleton.this.setAggressive(true);
-        }
-    };
-
-    protected AbstractSkeleton(EntityType<? extends AbstractSkeleton> p_32133_, Level p_32134_) {
-        super(p_32133_, p_32134_);
-        this.reassessWeaponGoal();
-    }
-
-    @Override
-    protected void registerGoals() {
-        this.goalSelector.addGoal(2, new RestrictSunGoal(this));
-        this.goalSelector.addGoal(3, new FleeSunGoal(this, 1.0));
-        this.goalSelector.addGoal(3, new AvoidEntityGoal<>(this, Wolf.class, 6.0F, 1.0, 1.2));
-        this.goalSelector.addGoal(5, new WaterAvoidingRandomStrollGoal(this, 1.0));
-        this.goalSelector.addGoal(6, new LookAtPlayerGoal(this, Player.class, 8.0F));
-        this.goalSelector.addGoal(6, new RandomLookAroundGoal(this));
-        this.targetSelector.addGoal(1, new HurtByTargetGoal(this));
-        this.targetSelector.addGoal(2, new NearestAttackableTargetGoal<>(this, Player.class, true));
-        this.targetSelector.addGoal(3, new NearestAttackableTargetGoal<>(this, IronGolem.class, true));
-        this.targetSelector.addGoal(3, new NearestAttackableTargetGoal<>(this, Turtle.class, 10, true, false, Turtle.BABY_ON_LAND_SELECTOR));
-    }
-
-    public static AttributeSupplier.Builder createAttributes() {
-        return Monster.createMonsterAttributes().add(Attributes.MOVEMENT_SPEED, 0.25);
-    }
-
-    @Override
-    protected void playStepSound(BlockPos p_32159_, BlockState p_32160_) {
-        this.playSound(this.getStepSound(), 0.15F, 1.0F);
-    }
-
-    protected abstract SoundEvent getStepSound();
-
-    @Override
-    public void aiStep() {
-        boolean flag = this.isSunBurnTick();
-        if (flag) {
-            ItemStack itemstack = this.getItemBySlot(EquipmentSlot.HEAD);
-            if (!itemstack.isEmpty()) {
-                if (itemstack.isDamageableItem()) {
-                    itemstack.setDamageValue(itemstack.getDamageValue() + this.random.nextInt(2));
-                    if (itemstack.getDamageValue() >= itemstack.getMaxDamage()) {
-                        this.broadcastBreakEvent(EquipmentSlot.HEAD);
-                        this.setItemSlot(EquipmentSlot.HEAD, ItemStack.EMPTY);
-                    }
-                }
-
-                flag = false;
-            }
-
-            if (flag) {
-                this.igniteForSeconds(8);
-            }
-        }
-
-        super.aiStep();
-    }
-
-    @Override
-    public void rideTick() {
-        super.rideTick();
-        if (this.getControlledVehicle() instanceof PathfinderMob pathfindermob) {
-            this.yBodyRot = pathfindermob.yBodyRot;
-        }
-    }
-
-    @Override
-    protected void populateDefaultEquipmentSlots(RandomSource p_218949_, DifficultyInstance p_218950_) {
-        super.populateDefaultEquipmentSlots(p_218949_, p_218950_);
-        this.setItemSlot(EquipmentSlot.MAINHAND, new ItemStack(Items.BOW));
-    }
-
-    @Nullable
-    @Override
-    public SpawnGroupData finalizeSpawn(ServerLevelAccessor p_32146_, DifficultyInstance p_32147_, MobSpawnType p_32148_, @Nullable SpawnGroupData p_32149_) {
-        p_32149_ = super.finalizeSpawn(p_32146_, p_32147_, p_32148_, p_32149_);
-        RandomSource randomsource = p_32146_.getRandom();
-        this.populateDefaultEquipmentSlots(randomsource, p_32147_);
-        this.populateDefaultEquipmentEnchantments(randomsource, p_32147_);
-        this.reassessWeaponGoal();
-        this.setCanPickUpLoot(randomsource.nextFloat() < 0.55F * p_32147_.getSpecialMultiplier());
-        if (this.getItemBySlot(EquipmentSlot.HEAD).isEmpty()) {
-            LocalDate localdate = LocalDate.now();
-            int i = localdate.get(ChronoField.DAY_OF_MONTH);
-            int j = localdate.get(ChronoField.MONTH_OF_YEAR);
-            if (j == 10 && i == 31 && randomsource.nextFloat() < 0.25F) {
-                this.setItemSlot(EquipmentSlot.HEAD, new ItemStack(randomsource.nextFloat() < 0.1F ? Blocks.JACK_O_LANTERN : Blocks.CARVED_PUMPKIN));
-                this.armorDropChances[EquipmentSlot.HEAD.getIndex()] = 0.0F;
-            }
-        }
-
-        return p_32149_;
-    }
-
-    public void reassessWeaponGoal() {
-        if (this.level() != null && !this.level().isClientSide) {
-            this.goalSelector.removeGoal(this.meleeGoal);
-            this.goalSelector.removeGoal(this.bowGoal);
-            ItemStack itemstack = this.getItemInHand(ProjectileUtil.getWeaponHoldingHand(this, Items.BOW));
-            if (itemstack.is(Items.BOW)) {
-                int i = this.getHardAttackInterval();
-                if (this.level().getDifficulty() != Difficulty.HARD) {
-                    i = this.getAttackInterval();
-                }
-
-                this.bowGoal.setMinAttackInterval(i);
-                this.goalSelector.addGoal(4, this.bowGoal);
-            } else {
-                this.goalSelector.addGoal(4, this.meleeGoal);
-            }
-        }
-    }
-
-    protected int getHardAttackInterval() {
-        return 20;
-    }
-
-    protected int getAttackInterval() {
-        return 40;
-    }
-
-    @Override
-    public void performRangedAttack(LivingEntity p_32141_, float p_32142_) {
-        ItemStack itemstack = this.getProjectile(this.getItemInHand(ProjectileUtil.getWeaponHoldingHand(this, Items.BOW)));
-        AbstractArrow abstractarrow = this.getArrow(itemstack, p_32142_);
-        double d0 = p_32141_.getX() - this.getX();
-        double d1 = p_32141_.getY(0.3333333333333333) - abstractarrow.getY();
-        double d2 = p_32141_.getZ() - this.getZ();
-        double d3 = Math.sqrt(d0 * d0 + d2 * d2);
-        abstractarrow.shoot(d0, d1 + d3 * 0.2F, d2, 1.6F, (float)(14 - this.level().getDifficulty().getId() * 4));
-        this.playSound(SoundEvents.SKELETON_SHOOT, 1.0F, 1.0F / (this.getRandom().nextFloat() * 0.4F + 0.8F));
-        this.level().addFreshEntity(abstractarrow);
-    }
-
-    protected AbstractArrow getArrow(ItemStack p_32156_, float p_32157_) {
-        return ProjectileUtil.getMobArrow(this, p_32156_, p_32157_);
-    }
-
-    @Override
-    public boolean canFireProjectileWeapon(ProjectileWeaponItem p_32144_) {
-        return p_32144_ == Items.BOW;
-    }
-
-    @Override
-    public void readAdditionalSaveData(CompoundTag p_32152_) {
-        super.readAdditionalSaveData(p_32152_);
-        this.reassessWeaponGoal();
-    }
-
-    @Override
-    public void setItemSlot(EquipmentSlot p_32138_, ItemStack p_32139_) {
-        super.setItemSlot(p_32138_, p_32139_);
-        if (!this.level().isClientSide) {
-            this.reassessWeaponGoal();
-        }
-    }
-
-    public boolean isShaking() {
-        return this.isFullyFrozen();
-    }
+   private final RangedBowAttackGoal<AbstractSkeleton> bowGoal = new RangedBowAttackGoal<>(this, 1.0D, 20, 15.0F);
+   private final MeleeAttackGoal meleeGoal = new MeleeAttackGoal(this, 1.2D, false) {
+      public void stop() {
+         super.stop();
+         AbstractSkeleton.this.setAggressive(false);
+      }
+
+      public void start() {
+         super.start();
+         AbstractSkeleton.this.setAggressive(true);
+      }
+   };
+
+   protected AbstractSkeleton(EntityType<? extends AbstractSkeleton> p_32133_, Level p_32134_) {
+      super(p_32133_, p_32134_);
+      this.reassessWeaponGoal();
+   }
+
+   protected void registerGoals() {
+      this.goalSelector.addGoal(2, new RestrictSunGoal(this));
+      this.goalSelector.addGoal(3, new FleeSunGoal(this, 1.0D));
+      this.goalSelector.addGoal(3, new AvoidEntityGoal<>(this, Wolf.class, 6.0F, 1.0D, 1.2D));
+      this.goalSelector.addGoal(5, new WaterAvoidingRandomStrollGoal(this, 1.0D));
+      this.goalSelector.addGoal(6, new LookAtPlayerGoal(this, Player.class, 8.0F));
+      this.goalSelector.addGoal(6, new RandomLookAroundGoal(this));
+      this.targetSelector.addGoal(1, new HurtByTargetGoal(this));
+      this.targetSelector.addGoal(2, new NearestAttackableTargetGoal<>(this, Player.class, true));
+      this.targetSelector.addGoal(3, new NearestAttackableTargetGoal<>(this, IronGolem.class, true));
+      this.targetSelector.addGoal(3, new NearestAttackableTargetGoal<>(this, Turtle.class, 10, true, false, Turtle.BABY_ON_LAND_SELECTOR));
+   }
+
+   public static AttributeSupplier.Builder createAttributes() {
+      return Monster.createMonsterAttributes().add(Attributes.MOVEMENT_SPEED, 0.25D);
+   }
+
+   protected void playStepSound(BlockPos p_32159_, BlockState p_32160_) {
+      this.playSound(this.getStepSound(), 0.15F, 1.0F);
+   }
+
+   protected abstract SoundEvent getStepSound();
+
+   public MobType getMobType() {
+      return MobType.UNDEAD;
+   }
+
+   public void aiStep() {
+      boolean flag = this.isSunBurnTick();
+      if (flag) {
+         ItemStack itemstack = this.getItemBySlot(EquipmentSlot.HEAD);
+         if (!itemstack.isEmpty()) {
+            if (itemstack.isDamageableItem()) {
+               itemstack.setDamageValue(itemstack.getDamageValue() + this.random.nextInt(2));
+               if (itemstack.getDamageValue() >= itemstack.getMaxDamage()) {
+                  this.broadcastBreakEvent(EquipmentSlot.HEAD);
+                  this.setItemSlot(EquipmentSlot.HEAD, ItemStack.EMPTY);
+               }
+            }
+
+            flag = false;
+         }
+
+         if (flag) {
+            this.setSecondsOnFire(8);
+         }
+      }
+
+      super.aiStep();
+   }
+
+   public void rideTick() {
+      super.rideTick();
+      Entity entity = this.getControlledVehicle();
+      if (entity instanceof PathfinderMob pathfindermob) {
+         this.yBodyRot = pathfindermob.yBodyRot;
+      }
+
+   }
+
+   protected void populateDefaultEquipmentSlots(RandomSource p_218949_, DifficultyInstance p_218950_) {
+      super.populateDefaultEquipmentSlots(p_218949_, p_218950_);
+      this.setItemSlot(EquipmentSlot.MAINHAND, new ItemStack(Items.BOW));
+   }
+
+   @Nullable
+   public SpawnGroupData finalizeSpawn(ServerLevelAccessor p_32146_, DifficultyInstance p_32147_, MobSpawnType p_32148_, @Nullable SpawnGroupData p_32149_, @Nullable CompoundTag p_32150_) {
+      p_32149_ = super.finalizeSpawn(p_32146_, p_32147_, p_32148_, p_32149_, p_32150_);
+      RandomSource randomsource = p_32146_.getRandom();
+      this.populateDefaultEquipmentSlots(randomsource, p_32147_);
+      this.populateDefaultEquipmentEnchantments(randomsource, p_32147_);
+      this.reassessWeaponGoal();
+      this.setCanPickUpLoot(randomsource.nextFloat() < 0.55F * p_32147_.getSpecialMultiplier());
+      if (this.getItemBySlot(EquipmentSlot.HEAD).isEmpty()) {
+         LocalDate localdate = LocalDate.now();
+         int i = localdate.get(ChronoField.DAY_OF_MONTH);
+         int j = localdate.get(ChronoField.MONTH_OF_YEAR);
+         if (j == 10 && i == 31 && randomsource.nextFloat() < 0.25F) {
+            this.setItemSlot(EquipmentSlot.HEAD, new ItemStack(randomsource.nextFloat() < 0.1F ? Blocks.JACK_O_LANTERN : Blocks.CARVED_PUMPKIN));
+            this.armorDropChances[EquipmentSlot.HEAD.getIndex()] = 0.0F;
+         }
+      }
+
+      return p_32149_;
+   }
+
+   public void reassessWeaponGoal() {
+      if (this.level() != null && !this.level().isClientSide) {
+         this.goalSelector.removeGoal(this.meleeGoal);
+         this.goalSelector.removeGoal(this.bowGoal);
+         ItemStack itemstack = this.getItemInHand(ProjectileUtil.getWeaponHoldingHand(this, item -> item instanceof net.minecraft.world.item.BowItem));
+         if (itemstack.is(Items.BOW)) {
+            int i = 20;
+            if (this.level().getDifficulty() != Difficulty.HARD) {
+               i = 40;
+            }
+
+            this.bowGoal.setMinAttackInterval(i);
+            this.goalSelector.addGoal(4, this.bowGoal);
+         } else {
+            this.goalSelector.addGoal(4, this.meleeGoal);
+         }
+
+      }
+   }
+
+   public void performRangedAttack(LivingEntity p_32141_, float p_32142_) {
+      ItemStack itemstack = this.getProjectile(this.getItemInHand(ProjectileUtil.getWeaponHoldingHand(this, item -> item instanceof net.minecraft.world.item.BowItem)));
+      AbstractArrow abstractarrow = this.getArrow(itemstack, p_32142_);
+      if (this.getMainHandItem().getItem() instanceof net.minecraft.world.item.BowItem)
+         abstractarrow = ((net.minecraft.world.item.BowItem)this.getMainHandItem().getItem()).customArrow(abstractarrow);
+      double d0 = p_32141_.getX() - this.getX();
+      double d1 = p_32141_.getY(0.3333333333333333D) - abstractarrow.getY();
+      double d2 = p_32141_.getZ() - this.getZ();
+      double d3 = Math.sqrt(d0 * d0 + d2 * d2);
+      abstractarrow.shoot(d0, d1 + d3 * (double)0.2F, d2, 1.6F, (float)(14 - this.level().getDifficulty().getId() * 4));
+      // CraftBukkit start
+      org.bukkit.event.entity.EntityShootBowEvent event = org.bukkit.craftbukkit.event.CraftEventFactory.callEntityShootBowEvent(this, this.getMainHandItem(), null, abstractarrow, net.minecraft.world.InteractionHand.MAIN_HAND, 0.8F, true);
+      if (event.isCancelled()) {
+         event.getProjectile().remove();
+         return;
+      }
+
+      if (event.getProjectile() == abstractarrow.getBukkitEntity()) {
+         level.addFreshEntity(abstractarrow);
+      }
+      // CraftBukkit end
+      this.playSound(SoundEvents.SKELETON_SHOOT, 1.0F, 1.0F / (this.getRandom().nextFloat() * 0.4F + 0.8F));
+   }
+
+   protected AbstractArrow getArrow(ItemStack p_32156_, float p_32157_) {
+      return ProjectileUtil.getMobArrow(this, p_32156_, p_32157_);
+   }
+
+   public boolean canFireProjectileWeapon(ProjectileWeaponItem p_32144_) {
+      return p_32144_ == Items.BOW;
+   }
+
+   public void readAdditionalSaveData(CompoundTag p_32152_) {
+      super.readAdditionalSaveData(p_32152_);
+      this.reassessWeaponGoal();
+   }
+
+   public void setItemSlot(EquipmentSlot p_32138_, ItemStack p_32139_) {
+      super.setItemSlot(p_32138_, p_32139_);
+      if (!this.level().isClientSide) {
+         this.reassessWeaponGoal();
+      }
+
+   }
+
+   protected float getStandingEyeHeight(Pose p_32154_, EntityDimensions p_32155_) {
+      return 1.74F;
+   }
+
+   protected float ridingOffset(Entity p_297913_) {
+      return -0.7F;
+   }
+
+   public boolean isShaking() {
+      return this.isFullyFrozen();
+   }
 }
